(this["webpackJsonpknowledge-junction"]=this["webpackJsonpknowledge-junction"]||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(40),o=n.n(r),l=(n(55),n(3)),i=n(7),u=n(1),s=n(8),m=n.n(s),d=function(e){return c.a.createElement("div",null,c.a.createElement("div",{className:"container"},c.a.createElement("img",{alt:"logo",src:"/images/logo.png",className:"logo-img"}),c.a.createElement("a",{className:"Oauth-link-container",href:"".concat("http://localhost:8080/login")},c.a.createElement("img",{src:"/images/google.png",alt:"google-icon",className:"google icon"}),c.a.createElement("div",{className:"Oauth-link"},"Log in with Google"))))},p=(n(22),function(e){var t=Object(u.g)(),n=Object(a.useState)(e.value),r=Object(l.a)(n,2),o=r[0],i=r[1];return c.a.createElement("div",{className:"overlay"},c.a.createElement("div",{className:"popup"},c.a.createElement("div",{className:"close",onClick:function(){t.push("/")}},"X"),c.a.createElement("form",{onSubmit:function(n){n.preventDefault(),o&&(e.onTitle(o),i("")),t.push("/")}},c.a.createElement("input",{className:"input",type:"text",value:o,onChange:function(e){return i(e.target.value)},required:!0,placeholder:"Enter title here...",autoFocus:!0}),c.a.createElement("br",null),c.a.createElement("button",{type:"submit"},"Add"))))});p.defaultProps={value:""};var f=p,E=function(e){return c.a.createElement("div",{className:"logout-link",onClick:function(){m.a.logout().then((function(){e.onLogout()}))}},"Logout")},g=c.a.createContext(""),h=function(e){var t=Object(a.useContext)(g);return c.a.createElement("div",{className:"header"},c.a.createElement("img",{src:"/images/logo-icon.png",alt:"logo",className:"logo-icon"}),c.a.createElement("div",{className:"menu"},c.a.createElement("img",{src:"/images/search.png",className:"add icon",alt:"add"}),c.a.createElement(i.b,{to:"/newTitle"},c.a.createElement("img",{src:"/images/plus.png",className:"add icon",alt:"add"})),c.a.createElement("img",{src:t.picture,alt:"avatar",className:"avatar"}),c.a.createElement("div",{className:"dropdown-links"},c.a.createElement("div",{className:"links"},c.a.createElement(E,{onLogout:e.onLogout})))))},v=n(9),b=n.n(v),j=n(12),k=n(42),O=n(45),N=n.n(O),w=n(46),y=n.n(w),C=n(47),x=n.n(C),S=n(48),T=n.n(S),L=n(49),P=n.n(L),q={header:y.a,marker:T.a,code:N.a,delimiter:x.a,inlineCode:P.a},A=function(e){var t=Object(a.useState)(),n=Object(l.a)(t,2),r=n[0],o=n[1],i=function(){var t=Object(j.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.save();case 2:n=t.sent,e.onChange(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"details"},c.a.createElement(k.a,{autofocus:"true",data:e.content,instanceRef:function(e){return o(e)},onChange:i,tools:q}))},B=n(20),J=n.n(B),R=function(e){var t="";return e.description&&e.description.blocks&&(t=e.description.blocks.map((function(e,t){switch(e.type){case"paragraph":return c.a.createElement("div",{key:t},c.a.createElement("div",null,J()(e.data.text)),c.a.createElement("br",null));case"header":return c.a.createElement("h2",{key:t},e.data.text);case"link":return c.a.createElement("a",{key:t,href:e.data.link},e.data.link);case"code":return c.a.createElement("div",{key:t},c.a.createElement("textarea",{defaultValue:J()(e.data.code),className:"code",cols:"90",rows:"10"}),c.a.createElement("br",null));case"delimiter":return c.a.createElement("h1",{key:t}," * * *");default:return c.a.createElement("p",{key:t},"No Description.")}}))),c.a.createElement("div",{className:"details"},t)},U=function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(!1),s=Object(l.a)(i,2),d=s[0],p=s[1],f=Object(u.h)().id,E=function(){var e=Object(j.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("hi"),p(!1),e.next=4,m.a.setContent(f,r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){m.a.getContent(f||1).then((function(e){o((function(){return e}))}))}),[f]),c.a.createElement("div",null,d?c.a.createElement(A,{onChange:function(e){o(e)},content:r}):c.a.createElement(R,{description:r}),c.a.createElement("div",{className:"button"},c.a.createElement("button",{disabled:d,onClick:function(){return p(!0)}},"Edit"),c.a.createElement("button",{disabled:!d,onClick:E},"Save")))},D=function(e){var t=Object(a.useState)(1),n=Object(l.a)(t,2),r=n[0],o=n[1];Object(a.useEffect)((function(){e.topics.length&&(console.log(e.topics[0].id),o(e.topics[0].id))}),[e.topics]);var s=e.topics.map((function(e,t){var n=e.title,a=e.id;return c.a.createElement(i.b,{activeClassName:"current",className:"title",key:t,to:"/".concat(a)},n)}));return c.a.createElement(i.a,null,c.a.createElement("div",{className:"navBar"},s),c.a.createElement(u.b,{exact:!0,path:"/"},c.a.createElement(u.a,{to:"/".concat(r)})),c.a.createElement(u.b,{exact:!0,path:"/:id"},c.a.createElement(U,null)))},G=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],o=n[1],i=function(){var t=Object(j.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.target,t.next=3,o(a.value);case 3:e.onChange(a.value);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement("input",{className:"search-input",type:"text",value:r,onChange:i,required:!0,placeholder:"Search here..."})};G.defaultProps={value:""};var W=G,F=function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),r=n[0],o=n[1];return c.a.createElement("div",null,c.a.createElement(W,{onChange:function(t){var n,a,c=(n=e.topics,a=t,n.filter((function(e){var t=e.title,n=e.content;return!!t.includes(a)||n.blocks.map((function(e){switch(e.type){case"code":return e.data.code;case"paragraph":case"header":return e.data.text;default:return""}})).some((function(e){return e&&e.includes(a)}))})));o(c)}}),e.topics?c.a.createElement(D,{topics:r||e.topics,onTitle:e.onTitle}):c.a.createElement("p",null,"Add topics"))},I=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),r=n[0],o=n[1],s=function(e){m.a.addTitle(e).then(o)};return Object(a.useEffect)((function(){m.a.getTopics().then(o)}),[]),c.a.createElement(i.a,null,c.a.createElement(h,{onLogout:e.onLogout,topics:e.topics}),c.a.createElement(u.d,null,c.a.createElement(u.b,{exact:!0,path:"/newTitle"},c.a.createElement(f,{onTitle:s})),c.a.createElement(u.b,{path:"/"},c.a.createElement(F,{topics:r,onTitle:s}))))},M=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],o=function(){return m.a.getUser().then(r)};return Object(a.useEffect)((function(){o()}),[]),c.a.createElement(i.a,null,c.a.createElement(g.Provider,{value:n},c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/"},n?c.a.createElement(I,{onLogout:o}):c.a.createElement(d,null)))))};n(110);var V=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},22:function(e,t,n){},50:function(e,t,n){e.exports=n(111)},55:function(e,t,n){},8:function(e,t){var n=function(e){return fetch(e).then((function(e){return e.json()}))},a=function(e,t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}))},c=function(){return n("api/topics").then((function(e){return e.topics}))};e.exports={sendGetReq:n,sendPostReq:a,getUser:function(){return n("api/getUser").then((function(e){return e.user}))},getTopics:c,getContent:function(e){return a("api/content",{id:e}).then((function(e){return e.content}))},addTitle:function(e){return a("api/addTitle",{title:e}).then(c)},logout:function(){return a("api/logout")},setContent:function(e,t){return a("api/setContent",{id:e,content:t})}}},92:function(e,t){}},[[50,1,2]]]);
//# sourceMappingURL=main.89cc6cd0.chunk.js.map